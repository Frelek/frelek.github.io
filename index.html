<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CV - Kacper Frelek</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <header>
    <nav>
      <ul class="navbar">
        <li><a href="#section1" id="home-link">Strona Główna</a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle">Section2</a>
          <ul class="dropdown-content hidden">
            <li><a href="#project1">Projekt 1</a></li>
            <li><a href="#project2">Projekt 2</a></li>
            <li><a href="#project3">Projekt 3</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle">Section3</a>
          <ul class="dropdown-content hidden">
            <li><a href="#project4">Projekt 4</a></li>
            <li><a href="#project5">Projekt 5</a></li>
            <li><a href="#project6">Projekt 6</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle">Section4</a>
          <ul class="dropdown-content hidden">
            <li><a href="#project7">Projekt 7</a></li>
            <li><a href="#project8">Projekt 8</a></li>
            <li><a href="#project9">Projekt 9</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </header>

  <main>
    <section id="section1">
      <h2>Strona Główna</h2>
      <p>Witaj na mojej stronie CV. Tutaj znajdziesz informacje o moich projektach i doświadczeniu.</p>
    </section>

    <!-- other sections... -->

  </main>

  <footer>
    <p><a href="CV.pdf" target="_blank">Pobierz CV</a> | <a href="https://www.linkedin.com/in/kacperfrelek" target="_blank">LinkedIn</a></p>
  </footer>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // Dropdown helper
      function closeAllDropdowns() {
        document.querySelectorAll('.dropdown-content').forEach(dc => {
          dc.classList.add('hidden');
          const toggle = dc.previousElementSibling;
          if (toggle && toggle.classList.contains('dropdown-toggle')) {
            toggle.setAttribute('aria-expanded', 'false');
            dc.setAttribute('aria-hidden', 'true');
          }
        });
      }

      // Dropdown logic
      document.querySelectorAll('.dropdown-toggle').forEach(toggle => {
        const menu = toggle.nextElementSibling;
        toggle.setAttribute('aria-expanded','false');
        if(menu) menu.setAttribute('aria-hidden','true');
        toggle.addEventListener('click', e => {
          e.preventDefault(); e.stopPropagation();
          closeAllDropdowns();
          menu.classList.toggle('hidden');
          const hidden = menu.classList.contains('hidden');
          toggle.setAttribute('aria-expanded', (!hidden).toString());
          menu.setAttribute('aria-hidden', hidden.toString());
        });
      });

      // Hide dropdowns on outside click
      document.addEventListener('click', () => closeAllDropdowns());

      // Section navigation
      document.querySelectorAll('.dropdown-content a, #home-link').forEach(link => {
        link.addEventListener('click', e => {
          e.preventDefault(); e.stopPropagation();
          closeAllDropdowns();
          // Hide all
          document.querySelectorAll('main section').forEach(sec => {
            sec.style.display = 'none';
          });
          // Show target
          const id = link.getAttribute('href').slice(1);
          const target = document.getElementById(id);
          if(target) target.style.display = '';
        });
      });

      // Init: only show main page
      document.querySelectorAll('main section').forEach(sec => {
        sec.style.display = (sec.id === 'section1' ? '' : 'none');
      });

      // Slider init
      document.querySelectorAll('.slider-container').forEach(c => {
        const slides = c.querySelectorAll('.slider-image');
        let idx = 0;
        function show(i) { slides.forEach((s,j)=> s.classList.toggle('active', j===i)); }
        show(0);
        c.querySelector('.left-btn').addEventListener('click',e=>{ e.stopPropagation(); idx=(idx-1+slides.length)%slides.length; show(idx);});
        c.querySelector('.right-btn').addEventListener('click',e=>{ e.stopPropagation(); idx=(idx+1)%slides.length; show(idx);});
      });

      // Modal logic (unchanged)...
    });
  </script>
</body>
</html>